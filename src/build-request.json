{
  "kind": "build_request",
  "title": "AI-inspired language learning web app (Tutor, exercises, progress)",
  "priority": "normal",
  "requirements": [
    {
      "id": "REQ-1",
      "text": "Create a language-learning single-page web app with core navigation and screens: Home/Dashboard, Practice, Vocabulary, and Settings.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-1"
        ],
        "quotes": [
          "puedes crear un pagina para aprender idiomas usando ia"
        ]
      },
      "acceptanceCriteria": [
        "App loads successfully and shows a top-level navigation to Home/Dashboard, Practice, Vocabulary, and Settings.",
        "Each screen has a clear header and empty-state content explaining what the user can do next.",
        "All screens are responsive (mobile + desktop) and use consistent layout spacing."
      ]
    },
    {
      "id": "REQ-2",
      "text": "Implement Internet Identity sign-in and show a signed-in experience that personalizes the app (e.g., shows the active learning language and progress).",
      "target": "both",
      "source": {
        "messageIds": [
          "msg-1"
        ],
        "quotes": [
          "puedes crear un pagina para aprender idiomas usando ia"
        ]
      },
      "acceptanceCriteria": [
        "When not signed in, the UI presents a sign-in call-to-action and limits access to user-specific data.",
        "After signing in with Internet Identity, the app displays the user principal (or a friendly derived identifier) and loads user data from the backend.",
        "Signing out returns the UI to the signed-out state and clears cached user data from the UI."
      ]
    },
    {
      "id": "REQ-3",
      "text": "Add backend data models and persistence for user learning state: active source/target languages, vocabulary items, per-item stats (e.g., correct/incorrect counts, lastSeen), and overall practice history.",
      "target": "backend",
      "source": {
        "messageIds": [
          "msg-1"
        ],
        "quotes": [
          "puedes crear un pagina para aprender idiomas usando ia"
        ]
      },
      "acceptanceCriteria": [
        "Backend exposes canister methods to get/update user settings (languages) and to CRUD vocabulary items.",
        "Backend stores data per authenticated user principal and does not mix data between users.",
        "Data remains available after page refresh and across sessions (stable storage)."
      ]
    },
    {
      "id": "REQ-4",
      "text": "Build a Vocabulary feature that lets users add, edit, and delete vocabulary entries (word/phrase, translation, optional notes, tags), and view them in a searchable/filterable list.",
      "target": "both",
      "source": {
        "messageIds": [
          "msg-1"
        ],
        "quotes": [
          "puedes crear un pagina para aprender idiomas usando ia"
        ]
      },
      "acceptanceCriteria": [
        "User can add a new vocabulary item and immediately see it in the list.",
        "User can edit an item and the list reflects changes after save.",
        "User can delete an item with a confirmation step.",
        "List supports search by word/phrase and translation, and filter by tag (if tags are used)."
      ]
    },
    {
      "id": "REQ-5",
      "text": "Create a Practice flow that generates short exercises from the user’s vocabulary and provides immediate feedback. Include at least: (1) translation (prompt -> answer), and (2) fill-in-the-blank from a template sentence.",
      "target": "both",
      "source": {
        "messageIds": [
          "msg-1"
        ],
        "quotes": [
          "puedes crear un pagina para aprender idiomas usando ia"
        ]
      },
      "acceptanceCriteria": [
        "Practice screen can start a session and presents one question at a time with an answer input.",
        "Submitting an answer shows correct/incorrect feedback and reveals the expected answer.",
        "Completing or skipping a question updates per-item stats in the backend.",
        "Practice supports at least two exercise types and clearly labels which type is being shown."
      ]
    },
    {
      "id": "REQ-6",
      "text": "Implement an AI-inspired “Tutor” feedback panel that explains mistakes using deterministic heuristics (e.g., normalization, typo tolerance, simple grammar/word-order hints) without calling any external LLM or third-party AI APIs.",
      "target": "both",
      "source": {
        "messageIds": [
          "msg-1"
        ],
        "quotes": [
          "usando ia"
        ]
      },
      "acceptanceCriteria": [
        "After answering, the UI shows a Tutor panel with: normalized comparison (case/whitespace/diacritics handling), a brief hint on what differed, and a suggested corrected answer.",
        "The system never calls external AI/LLM services; all feedback is generated locally (frontend) and/or in the Motoko backend using deterministic logic.",
        "Typo tolerance can be demonstrated (e.g., small edit distance) and is documented in the UI/help tooltip."
      ]
    },
    {
      "id": "REQ-7",
      "text": "Add a Progress/Dashboard view showing daily practice count, accuracy, and a simple review queue size (items due based on lastSeen and performance).",
      "target": "both",
      "source": {
        "messageIds": [
          "msg-1"
        ]
      },
      "acceptanceCriteria": [
        "Dashboard displays at least 3 metrics: today’s answered count, accuracy %, and items due for review.",
        "Metrics are derived from persisted backend data and update after a practice session.",
        "If the user has no data, the dashboard shows an empty state with a clear next step (add vocab or start practice)."
      ]
    },
    {
      "id": "REQ-8",
      "text": "Apply one coherent, creative visual theme across the app (colors, typography, components) suitable for a language-learning product, avoiding blue/purple as the primary palette unless explicitly requested later.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-1"
        ]
      },
      "acceptanceCriteria": [
        "Theme is consistent across all screens (navigation, cards, buttons, forms).",
        "Primary palette is not blue/purple-dominant.",
        "UI uses Tailwind utility classes and shadcn components by composition (no direct edits to immutable UI component source files)."
      ]
    },
    {
      "id": "REQ-9",
      "text": "Add generated static visual assets (logo + hero illustration) and render them in the app (e.g., on the Home/Dashboard and/or sign-in screen) from frontend/public/assets/generated.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-1"
        ]
      },
      "acceptanceCriteria": [
        "Generated images exist under frontend/public/assets/generated and are referenced directly by the frontend (not served via backend).",
        "Home/Dashboard (or landing/sign-in) includes the logo and hero illustration in a visually balanced layout.",
        "Images scale appropriately for mobile and desktop without distortion."
      ]
    }
  ],
  "constraints": [
    "Do not integrate external LLM/AI providers or APIs (e.g., OpenAI/Anthropic).",
    "Backend must remain a single Motoko actor (single-actor architecture).",
    "Do not modify files under frontend/src/components/ui or any other immutable paths; compose them instead."
  ],
  "nonGoals": [
    "Speech recognition, text-to-speech, or pronunciation scoring.",
    "Real-time chat or multiplayer features.",
    "Third-party OAuth providers beyond Internet Identity.",
    "Importing lessons from external platforms or using external databases."
  ],
  "imageRequirements": {
    "required": [
      "Minimalist wordmark logo, warm modern style (language-logo.dim_512x512.png)",
      "Friendly hero illustration of language learning (books, chat bubbles, globe), flat vector style (language-hero.dim_1600x900.png)"
    ],
    "edits": []
  }
}